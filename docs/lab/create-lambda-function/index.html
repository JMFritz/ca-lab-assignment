<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.74">
<link rel="alternate" type="application/rss+xml" href="/ca-lab-assignment/blog/rss.xml" title="Cloud Academy Lab Submission Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/ca-lab-assignment/blog/atom.xml" title="Cloud Academy Lab Submission Blog Atom Feed"><title data-react-helmet="true">Creating a New AWS Lambda Function | Cloud Academy Lab Submission</title><meta data-react-helmet="true" property="og:url" content="https://JMFritz.github.io/ca-lab-assignment/docs/lab/create-lambda-function"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Creating a New AWS Lambda Function | Cloud Academy Lab Submission"><meta data-react-helmet="true" name="description" content="Introduction"><meta data-react-helmet="true" property="og:description" content="Introduction"><link data-react-helmet="true" rel="shortcut icon" href="/ca-lab-assignment/img/logo.png"><link data-react-helmet="true" rel="canonical" href="https://JMFritz.github.io/ca-lab-assignment/docs/lab/create-lambda-function"><link data-react-helmet="true" rel="alternate" href="https://JMFritz.github.io/ca-lab-assignment/docs/lab/create-lambda-function" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://JMFritz.github.io/ca-lab-assignment/docs/lab/create-lambda-function" hreflang="x-default"><link rel="stylesheet" href="/ca-lab-assignment/assets/css/styles.c2c9ecde.css">
<link rel="preload" href="/ca-lab-assignment/assets/js/styles.808783c1.js" as="script">
<link rel="preload" href="/ca-lab-assignment/assets/js/runtime~main.6c3fd030.js" as="script">
<link rel="preload" href="/ca-lab-assignment/assets/js/main.d7d2b98f.js" as="script">
<link rel="preload" href="/ca-lab-assignment/assets/js/common.f3ae4ae0.js" as="script">
<link rel="preload" href="/ca-lab-assignment/assets/js/14.13861265.js" as="script">
<link rel="preload" href="/ca-lab-assignment/assets/js/15.6909ab6c.js" as="script">
<link rel="preload" href="/ca-lab-assignment/assets/js/935f2afb.9721a6f9.js" as="script">
<link rel="preload" href="/ca-lab-assignment/assets/js/17896441.905310ad.js" as="script">
<link rel="preload" href="/ca-lab-assignment/assets/js/f9021fea.bd71b649.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/ca-lab-assignment/"><img src="/ca-lab-assignment/img/logo.png" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/ca-lab-assignment/img/logo.png" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Cloud Academy Lab Submission</strong></a><a class="navbar__item navbar__link navbar__link--active" href="/ca-lab-assignment/docs/intro">Start Lab</a></div><div class="navbar__items navbar__items--right"></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/ca-lab-assignment/"><img src="/ca-lab-assignment/img/logo.png" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/ca-lab-assignment/img/logo.png" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Cloud Academy Lab Submission</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/ca-lab-assignment/docs/intro">Start Lab</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/ca-lab-assignment/docs/intro">Cloud Lab Developer Assignment</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Storing Objects in Amazon S3 using AWS Lambda</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/ca-lab-assignment/docs/lab/introduction">Lab Overview</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/ca-lab-assignment/docs/lab/create-lambda-function">Creating a New AWS Lambda Function</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/ca-lab-assignment/docs/lab/test-lambda-function">Understanding and Testing the S3 Lambda function</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/ca-lab-assignment/docs/lab/summary">Lab Summary</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Creating a New AWS Lambda Function</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="introduction"></a>Introduction<a class="hash-link" href="#introduction" title="Direct link to heading">#</a></h2><p>In this Lab step, you will create a new AWS Lambda function using the AWS Management Console.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="instructions"></a>Instructions<a class="hash-link" href="#instructions" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><div tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Load AWS SDK and create a new S3 object</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token constant" style="color:rgb(130, 170, 255)">AWS</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;aws-sdk&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> s3 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">AWS</span><span class="token class-name punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token class-name" style="color:rgb(255, 203, 107)">S3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> bucketName </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> process</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">env</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">BUCKET_NAME</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Reference Lambda environment variable</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">exports</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method-variable function-variable method function property-access" style="color:rgb(130, 170, 255)">handler</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">async</span><span class="token plain"> </span><span class="token parameter">message</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword control-flow" style="font-style:italic">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> r </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Math</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">random</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">toString</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">36</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">substring</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">7</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> text </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Sample Text&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> objectKey </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Object-&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> r</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Construct parameters for the putObject call</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> params </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token maybe-class-name">Bucket</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> bucketName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token maybe-class-name">Body</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> text</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token maybe-class-name">Key</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> objectKey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Call putObject() + respond with success string</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">await</span><span class="token plain"> s3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">putObject</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">params</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">promise</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> objectKey </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27; stored in &#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> bucketName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="font-style:italic">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ol><li>In the AWS Management Console search bar, enter <em>Lambda</em>, and click the <strong>Lambda</strong> result under <strong>Services</strong>:</li></ol><p><img alt="lambda-service" src="/ca-lab-assignment/assets/images/lambda-service-5d41d7e524bea87b8628e67b1561d0bc.png"></p><p>You are placed in the AWS Lambda console.</p><ol><li>To start creating a new AWS Lambda function, in the top-right, click <strong>Create function</strong>:</li></ol><p><img alt="create-function" src="data:image/png;base64,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"></p><p>The AWS Lambda function creation form will load.</p><ol><li><p>Ensure <strong>Author from scratch</strong> is selected.</p></li><li><p>Under Basic information, enter the following values:</p></li></ol><ul><li><strong>Function name</strong>: Enter <em>PutObjectFunction</em></li><li><strong>Runtime</strong>: Ensure <strong>Node.js 14.x</strong> is selected</li><li><strong>Permissions</strong>: Click Change default execution role<ul><li><strong>Execution role</strong>: Select <strong>Use an existing role</strong></li><li><strong>Existing role</strong>: Select the role <strong>Lambda-Lab-Role</strong></li></ul></li></ul><p><img alt="basic-info" src="/ca-lab-assignment/assets/images/basic-info-b77903dca4bb54c94055c87c293c2d3d.png"></p><p><img alt="lambda-role" src="/ca-lab-assignment/assets/images/lambda-role-11774764e5eca252c71958c72ac63d32.png"></p><ol><li>To finish creating your AWS Lambda function, scroll to the bottom of the form and click <strong>Create function</strong>.</li></ol><p>You are taken to the function&#x27;s detail page:</p><p><img alt="function-created" src="/ca-lab-assignment/assets/images/function-created-587ada0836902fcee85919a08fb4bac1.png"></p><ol><li><p>Click the <strong>Configuration</strong> panel below the Function overview to update the function configurations.</p></li><li><p>On the navigation panel to the left, click <strong>Environment variables</strong>.</p></li><li><p>Click <strong>Edit</strong>.</p></li></ol><p><img alt="edit-env-vars" src="/ca-lab-assignment/assets/images/edit-env-vars-0fcba35c9b9cedc715daca0bb0d8bb85.png"></p><ol><li>On the Environment variables page, click <strong>Add environment variable</strong> and enter the following:</li></ol><ul><li><strong>Key</strong>: <em>BUCKET_NAME</em></li><li><strong>Value</strong>: <em>s3bucket-97171</em></li></ul><p><img alt="env-vars" src="/ca-lab-assignment/assets/images/env-vars-f15dc66984cf350b039398e7f5b3e022.png"></p><ol><li>Click <strong>Save</strong>.</li></ol><p>You are taken back to the function&#x27;s detail page.</p><ol><li><p>Ensure the <strong>Code</strong> panel is selected to view the current function code source.</p></li><li><p>Double-click the <strong>index.js</strong> file to open the file in the code editor.</p></li><li><p>Delete the existing code and replace it with the following code snippet:</p></li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><div tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Load AWS SDK and create a new S3 object</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token constant" style="color:rgb(130, 170, 255)">AWS</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;aws-sdk&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> s3 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">AWS</span><span class="token class-name punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token class-name" style="color:rgb(255, 203, 107)">S3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> bucketName </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> process</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">env</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">BUCKET_NAME</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Reference Lambda environment variable</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">exports</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method-variable function-variable method function property-access" style="color:rgb(130, 170, 255)">handler</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">async</span><span class="token plain"> </span><span class="token parameter">message</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword control-flow" style="font-style:italic">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> r </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Math</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">random</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">toString</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">36</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">substring</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">7</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> text </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Sample Text&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> objectKey </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Object-&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> r</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Construct parameters for the putObject call</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> params </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token maybe-class-name">Bucket</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> bucketName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token maybe-class-name">Body</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> text</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token maybe-class-name">Key</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> objectKey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Call putObject() + respond with success string</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">await</span><span class="token plain"> s3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">putObject</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">params</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">promise</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> objectKey </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27; stored in &#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> bucketName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="font-style:italic">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>You will walk through this code in the following Lab Step.</p><ol><li>Click <strong>Deploy</strong> directly above the code editor to save and deploy the Lambda function.</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="summary"></a>Summary<a class="hash-link" href="#summary" title="Direct link to heading">#</a></h2><p>In this lab step, you created an AWS Lambda function that uses the Node.js runtime. You configured this function to take on a predefined execution role, allowing it to access a specific Amazon S3 bucket. Finally, you added the bucket name environment variable that your function references within the index.js handler.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="checks"></a>Checks<a class="hash-link" href="#checks" title="Direct link to heading">#</a></h2><p><strong>Created AWS Lambda Function</strong>
Check if the AWS Lambda function has been created.</p><blockquote><p><strong>Note</strong>: The source code for this check is located in the <code>CheckFunction.js</code> file.</p></blockquote></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/ca-lab-assignment/docs/lab/introduction"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Lab Overview</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/ca-lab-assignment/docs/lab/test-lambda-function"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Understanding and Testing the S3 Lambda function »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link">Introduction</a></li><li><a href="#instructions" class="table-of-contents__link">Instructions</a></li><li><a href="#summary" class="table-of-contents__link">Summary</a></li><li><a href="#checks" class="table-of-contents__link">Checks</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"></div></div></footer></div>
<script src="/ca-lab-assignment/assets/js/styles.808783c1.js"></script>
<script src="/ca-lab-assignment/assets/js/runtime~main.6c3fd030.js"></script>
<script src="/ca-lab-assignment/assets/js/main.d7d2b98f.js"></script>
<script src="/ca-lab-assignment/assets/js/common.f3ae4ae0.js"></script>
<script src="/ca-lab-assignment/assets/js/14.13861265.js"></script>
<script src="/ca-lab-assignment/assets/js/15.6909ab6c.js"></script>
<script src="/ca-lab-assignment/assets/js/935f2afb.9721a6f9.js"></script>
<script src="/ca-lab-assignment/assets/js/17896441.905310ad.js"></script>
<script src="/ca-lab-assignment/assets/js/f9021fea.bd71b649.js"></script>
</body>
</html>